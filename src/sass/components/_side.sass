@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

/*SIDE*/
.side
	$width: 60px
	$fz: 14px
	$lh: round($fz*1.3)
	//float: right
	//margin: 0 -#{$layout-grid-space + $width} 0 #{-$width}
	position: absolute
	top: $grid-layout-space
	left: 100%
	width: $width
	z-index: 50

	+media('<desk-hd')
		top: $grid-layout-space--desk-hd

	+media('<desk-md')
		display: none

	&.is_stuck
		left: $main-layout-width
		margin-left: -#{$width}

		+media('<1937px')
			.no-touchevents &
				left: 100%

			.no-touchevents &.is_bottom
				margin-left: 0

		+media('<desk-hd')
			.touchevents &
				left: 100%

			.touchevents &.is_bottom
				margin-left: 0

		& + div
			z-index: -1

	+media('<desk-lg')
		margin-right: -#{$grid-layout-space--desk-hd + $width}

	=font()
		font: 400 #{$fz}/#{$lh} $font-alt
		letter-spacing: normal

	=transition()
		transition-property: background-color, transform, box-shadow, border-color, opacity
		transition-duration: $animation-speed-mouseleave
		transition-timing-function: cubic-bezier(0.61, 0.01, 0.41, 1)

	=transition-duration()
		transition-duration: $animation-speed

	@at-root
	&__list
		width: $width
		position: relative
		z-index: 10

	@at-root
	&__item
		position: relative

		&::before
			content: ""
			display: block
			padding-top: calc(100% + 1px)

	@at-root
	&__link
		position: absolute
		top: 0
		left: 0
		width: 100%
		height: 100%
		color: $text-color
		white-space: nowrap
		text-decoration: none

	@at-root
	&__inner
		$translateX: calc(100% - #{$width})
		background: none
		position: absolute
		top: 0
		left: 100%
		height: 100%
		font-size: 0
		line-height: 0
		letter-spacing: -4px
		white-space: nowrap
		pointer-events: none
		background: white
		+antialiased
		transform: translate(-#{$width}, 0)
		+transition

		.no-touchevents a:hover &
			transform: translate(-100%, 0)
			+transition-duration
			pointer-events: auto

	@at-root
	&__depict
		display: inline-block
		vertical-align: middle
		position: relative
		padding-right:
		height: 100%
		width: $width
		background: $text-color-alt
		border-bottom: 1px solid darken($text-color-alt, 10%)
		+transition

		.no-touchevents a:hover &
			border-color: transparent
			+transition-duration

		svg
			width: 30px
			height: 30px
			position: absolute
			left: 50%
			top: 50%
			-webkit-backface-visibility: hidden
			backface-visibility: hidden
			transform: translate(-50%, -50%)

		path
			fill: #fff

	@at-root
	&__text
		display: inline-block
		vertical-align: middle
		padding: 0 20px
		max-height: 100%
		+font

		span
			display: block
			overflow: hidden
			max-height: $lh*2
			opacity: 0
			transform: translate(20px, 0)
			+transition

			.no-touchevents a:hover &
				transform: translate(0, 0)
				opacity: 1
				transition-duration: 0.5s

/*SIDE end*/