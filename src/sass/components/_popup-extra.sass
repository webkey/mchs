@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

/*extra popup*/
// fixed scroll after popup open
html.before-extra-popup-open
	+scroll-blocked()

	.wrapper
		z-index: 100

.extra-popup
	overflow: hidden
	+cover(fixed)
	background: #fff
	border: 1px solid $border-color
	z-index: 998

	&.hide-on-load
		opacity: 0
		visibility: hidden

	.layout
		padding: 0 #{$grid-layout-space}
		overflow: hidden

	// for ios add bg after inertia scroll
	&:after
		+pseudo()
		+cover(null, 0, 100%, 50%, 100%)
		background: inherit

.extra-popup__head
	position: relative
	height: $header-top-height
	border: solid #d9d9d9
	border-width: 1px 0
	transition-property: opacity, visibility, box-shadow
	transition-duration: $animation-speed-mouseleave

	.show-shadow &
		box-shadow: 0 0 35px rgba(0, 0, 0, 0.2)
		transition-duration: $animation-speed

	.logo
		display: block
		position: absolute
		left: 50%
		top: 50%
		$size: 50px
		+size($size)
		margin: -#{$size/2} 0 0 -#{$size/2}
		padding: 0
		+font(0, 0)
		background-size: contain
		opacity: 0
		visibility: hidden
		transition-property: opacity, visibility, box-shadow
		transition-duration: $animation-speed-mouseleave

		.before-extra-popup-open &
			opacity: 1
			visibility: visible

.extra-popup__content
	overflow-x: hidden
	overflow-y: auto
	position: relative
	height: calc(100% - #{$header-top-height})
	padding: #{$grid-layout-space - 10px} 0
	box-sizing: border-box

.nav-overlay
	z-index: 99

/*extra popup end*/

/*button popup site map close*/
.extra-popup .btn-popup-close
	position: absolute
	right: -1px
	top: -1px
	+size($header-top-height)
	border: 1px solid $border-color

/*button popup site map close end*/
/*button menu close*/
//.btn-menu-close
	//<a href="#" class="btn-menu-close"><i></i><span>Закрыть</span></a>
	@extend .btn-map-site
	> i
		background-color: transparent

		&:before
			top: 0
			transform: rotate(-45deg)

		&:after
			top: 0
			transform: rotate(45deg)

/*button menu close end*/