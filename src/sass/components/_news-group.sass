@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

/*news previews*/
.news-group
	position: relative
	+clear

	.section__box &:last-child
		margin-bottom: -2rem

	&::before
		+pseudo()
		left: 50%
		border-right: 1px solid $border-color
		top: 0
		bottom: 2rem

		+media('<mob-lg')
			content: none

.news-group__list
	margin-bottom: $bottom-space
	+margin-horizontal(round(-$grid-space/2))
	+clear

	&:last-child
		margin-bottom: 0

.news-group__item
	position: relative
	font-size: $font-size-small
	line-height: $line-height-small
	letter-spacing: normal

	&:first-child
		float: left
		width: calc(50% - #{$grid-space})

		+media('<mob-lg')
			float: none
			width: 100%

	&:nth-child(n+2)
		margin-left: calc(50% + #{$grid-space})

		+media('<mob-lg')
			margin-left: 0

	.news-group &
		+padding-horizontal(round($grid-space/2))

.news-group__inner
	display: block
	position: relative
	text-decoration: none
	color: $text-color
	background: #fff
	box-shadow: inset 0 -1px 0 $border-color

	.news-group .news-group__item:first-child &
		padding-top: 140px // Костыль. Высота картинки
		box-shadow: none

		+media('<mob-lg')
			box-shadow: inset 0 -1px 0 $border-color

	.news-group .news-group__item:last-child &
		box-shadow: none

.news-group__img
	position: absolute
	left: 0
	top: 0
	height: 140px // костыль, чтобы высоты блоков были четко по дизу
	min-height: $news-label-size
	width: 100%
	background-image: url(../../img/no-img.jpg)
	background-repeat: no-repeat
	background-position: center center
	background-size: cover
	z-index: 4

	// фото может быть тольков в первой новости
	.news-group__item:nth-child(n+2) &
		display: none
		padding: 0

	img
		width: 100%

.news__label

	// лейбл может быть тольков в первой новости
	.news-group__item:nth-child(n+2) &
		display: none

.news-group__content
	position: relative
	overflow: hidden
	padding: 1.4em 0 2.8em
	// Костыль. Нужен больше нижний отступ, чтобы повесить на абсолюте мета инфу

	.news-group__item:first-child &
		padding-top: 1.9em
		padding-bottom: 3.9em
		min-height: 266px // Костыль, чтобы растянуть по высоте левую колонку на высоту соседних трех

		+media('<mob-lg')
			padding: 1.4em 0 2.8em
			min-height: 0

	.news-group__item:nth-child(2) &
		padding-top: 0

		+media('<mob-lg')
			padding-top: 1.9em

	.news-group__item:last-child
		padding-bottom: 0

	.news-group__label + &
		padding-top: $grid-inside-vertical-space + $news-label-size

	& > *
		z-index: 2
		position: relative

.news-group__title
	font-family: $font-alt
	+font(1.6rem, 1.25)
	font-weight: 700
	overflow: hidden
	max-height: round-float(1.6rem*1.25*3, 1) // костыль, чтобы высоты блоков были четко по дизу
	margin-bottom: 0.9em
	transition-property: color
	transition-duration: $animation-speed

	// заголовок может быть тольков в первой новости
	.news-group__item:nth-child(n+2) &
		display: none

	.no-touchevents .news-group__inner:hover &
		color: $text-color-alt

.news-group__text
	overflow: hidden
	height: round-float($font-size-small*$line-height-small*3, 1) // костыль, чтобы высоты блоков были четко по дизу
	margin-bottom: 0.7em
	transition-property: color
	transition-duration: $animation-speed

	// в первой и второй новостях текст в 5 рядков
	.news-group__item:nth-child(-n+2) &
		height: round-float($font-size-small*$line-height-small*5, 1) // костыль, чтобы высоты блоков были четко по дизу

		+media('<mob-lg')
			height: auto
			max-height: round-float($font-size-small*$line-height-small*5, 1)

	.no-touchevents .news-group__inner:hover &
		color: $text-color-alt

.news-group__meta
	position: absolute
	bottom: 1.4em
	width: 100%
	font-size: 1.2rem
	line-height: 1.4
	color: $text-color-light
	+news-transition

	time
		font-style: normal

	.visit-view
		float: right

		svg path
			+news-transition


	.no-touchevents a.news-group__inner:hover &
		color: $text-color

		svg path
			fill: $text-color
			transition-duration: $animation-speed

.news-group__footer
	position: relative

/*news previews end*/