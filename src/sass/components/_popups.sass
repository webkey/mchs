@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

/*extra popup*/
// fixed scroll after popup open
html.before-extra-popup-open
	//+scroll-blocked()

	.wrapper
		z-index: 100

.extra-popup
	overflow: hidden
	+cover(fixed)
	background: #fff
	border: 1px solid $border-color
	z-index: 998

	&.hide-on-load
		opacity: 0
		visibility: hidden

	.layout
		padding: 0 #{$grid-layout-space}
		overflow: hidden

		+media('<mob-lg')
			+padding-horizontal($grid-layout-space--mob-lg)

	// for ios add bg after inertia scroll
	&:after
		+pseudo()
		+cover(null, 0, 100%, 50%, 100%)
		background: inherit

.extra-popup__head
	position: relative
	height: $header-top-height
	border: solid #d9d9d9
	border-width: 1px 0
	transition-property: opacity, visibility, box-shadow
	transition-duration: $animation-speed-mouseleave

	+media('<mob-lg')
		height: $header-top-height--sm

	.show-shadow &
		box-shadow: 0 0 35px rgba(0, 0, 0, 0.2)
		transition-duration: $animation-speed

	.logo
		display: block
		position: absolute
		left: 50%
		top: 50%
		$size: 50px
		+size($size)
		margin: -#{$size/2} 0 0 -#{$size/2}
		padding: 0
		+font(0, 0)
		background-size: contain
		opacity: 0
		visibility: hidden
		transition-property: opacity, visibility, box-shadow
		transition-duration: $animation-speed-mouseleave

		.before-extra-popup-open &
			opacity: 1
			visibility: visible

.extra-popup__content
	overflow-x: hidden
	overflow-y: auto
	position: relative
	height: calc(100% - #{$header-top-height})
	padding: #{$grid-layout-space - 10px} 0
	box-sizing: border-box

	+media('<mob-lg')
		+padding-vertical($grid-layout-space--mob-lg)
		height: calc(100% - #{$header-top-height--sm})

.nav-overlay
	z-index: 99

/*extra popup end*/

/*button popup site map close*/
.extra-popup .btn-popup-close
	position: absolute
	right: -1px
	top: -1px
	+size($header-top-height)
	border: 1px solid $border-color

	+media('<mob-lg')
		+size($header-top-height--sm)

/*button popup site map close end*/
/*button menu close*/
//.btn-menu-close
	//<a href="#" class="btn-menu-close"><i></i><span>Закрыть</span></a>
	@extend .btn-map-site
	> i
		background-color: transparent

		&:before
			top: 0
			transform: rotate(-45deg)

		&:after
			top: 0
			transform: rotate(45deg)

/*button menu close end*/

/*popup banners
.popup-banners
	position: fixed
	right: 0
	top: #{$header-top-height}
	width: 320px
	height: calc(100% - #{$header-top-height})
	background: white
	z-index: 998

	+media('<mob-lg')
		top: #{$header-top-height--sm}
		height: calc(100% - #{$header-top-height--sm})

	&.hide-on-load
		opacity: 0
		visibility: hidden

	// for ios add bg after inertia scroll
	&:after
		+pseudo()
		+cover(null, 0, 100%, 50%, 100%)
		background: inherit
		margin-top: -10px
		z-index: -1

	.banners
		padding: $grid-layout-space--mob-lg
		margin: 0

	.banners__item
		+padding-horizontal(0)

.popup-banners__holder
	overflow-y: auto
	overflow-x: hidden
	max-height: 100%

	& > *:last-child
		margin-bottom: 0

/*popup banners end

/*popup news
.popup-news
	position: fixed
	left: 0
	top: #{$header-top-height}
	width: 320px
	height: calc(100% - #{$header-top-height})
	background: white
	z-index: 998

	+media('<mob-lg')
		top: #{$header-top-height--sm}
		height: calc(100% - #{$header-top-height--sm})
		width: 100%

	&.hide-on-load
		opacity: 0
		visibility: hidden

	// for ios add bg after inertia scroll
	&:after
		+pseudo()
		+cover(null, 0, 100%, 50%, 100%)
		background: inherit
		margin-top: -10px
		z-index: -1

	.news
		padding: 25px
		margin: 0

	.news__item
		+padding-horizontal(0)

.popup-news__holder
	overflow-y: auto
	overflow-x: hidden
	max-height: 100%

	& > *:last-child
		margin-bottom: 0

/*popup news end