@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

/*expander
.expander
	margin-bottom: $bottom-space-lg

	&:last-child
		margin-bottom: 0

.expander-item
	border: 1px solid $border-color
	margin-bottom: $bottom-space
	padding: 0 $grid-inside-horizontal-space

	&:last-child
		margin-bottom: 0

	p, ul, ol
		max-width: none

	.#{$user-content} & ul > li::before
		top: calc(1em * #{1.25} / 2)

.expander-header
	position: relative
	padding: $grid-inside-vertical-space 0
	transition-property: border-color
	transition-duration: $animation-speed
	+clear

.expander-header__meta
	float: left
	width: $faq-meta-width
	+font(1.2rem, 1.7)
	color: $text-color-light

	time
		+font-normal
		display: block

.expander-header__text
	padding-right: #{$grid-inside-horizontal-space + $faq-angle-size}
	font-family: $font-alt
	+font(1.6rem, 1.25)
	font-weight: normal
	color: $text-color
	transition-property: color
	transition-duration: $animation-speed

	.no-js &
		padding-right: 0

.expander-angle
	$btn-size: $header-top-height
	$btn-lines-width: 17px
	$btn-lines-height: 3px
	$btn-lines-color: $text-color

	=line-style()
		+size($btn-lines-width, $btn-lines-height)
		background-color: $btn-lines-color

	position: absolute
	right: 0
	top: 50%
	+size($faq-angle-size)
	cursor: pointer
	transform: translate(0, -50%)

	.no-js &
		display: none

	> span
		+hide-text

	> i
		position: absolute
		left: 50%
		top: 50%
		margin: -#{round($btn-lines-width/2)} 0 0 -#{round($btn-lines-width/2)}
		+size($btn-lines-width)
		backface-visibility: hidden
		transition-property: transform
		transition-duration: $animation-speed

		.expander-is-open &
			transform: rotate(0.625turn)

		&::before, &::after
			+pseudo()
			left: 0
			top: 50%
			margin-top: -#{round($btn-lines-height/2)}
			+line-style

		&::after
			transform: rotate(90deg)

	.no-touchevents &:hover i
		&::before, &::after
			background-color: $text-color-alt

.expander-panel
	position: relative
	overflow: hidden
	border-top: 1px solid $border-color
	display: none
	+font(1.4rem, 1.7)

	.no-js &
		display: block

.expander-panel__holder
	padding: $grid-inside-vertical-space 0

.expander-header__text, .expander-panel__holder
	margin-left: #{$faq-meta-width + $grid-inside-horizontal-space}

	& > p:last-child, & > ul:last-child, & > ol:last-child
		margin-bottom: 0

/*expander end