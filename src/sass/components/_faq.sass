@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

/*expander
.expander
	margin-bottom: $bottom-space-lg

	+media('<mob-lg')
		+margin-horizontal(-#{$article-layout-space-horizontal--mob-lg})

	&:last-child
		margin-bottom: 0

.expander-item
	border: 1px solid $border-color
	margin-bottom: $bottom-space
	padding: 0 $grid-inside-horizontal-space

	+media('<tab-lg')
		+padding-horizontal($article-layout-space-horizontal--tab-lg)

	+media('<mob-lg')
		+padding-horizontal($article-layout-space-horizontal--mob-lg)
		margin-bottom: 0
		border-width: 0 0 1px

		&:first-child
			border-top-width: 1px

	&:last-child
		margin-bottom: 0

	p, ul, ol
		max-width: none

	.#{$user-content} & ul > li::before
		top: calc(1em * #{1.25} / 2)

.expander-header
	position: relative
	padding: $grid-inside-vertical-space 0
	transition-property: border-color
	transition-duration: $animation-speed
	+clear

	+media('<tab-lg')
		+padding-vertical($article-layout-space-vertical--tab-lg)

	+media('<mob-lg')
		+padding-vertical($article-layout-space-vertical--mob-lg)

.expander-header__meta
	+font(1.2rem, 1.7)
	color: $text-color-light
	margin-bottom: $bottom-space

	+media('<desk-lg')
		display: block
		float: none
		width: auto
		margin-bottom: $bottom-space-sm

	+media('<mob-lg')
		+font($font-size, $line-height)

	time
		+font-normal

		+media('<mob-lg')
			display: inline-block
			margin-right: 20px

	.name
		display: inline-block
		margin-right: 8px

		& ~ time
			&::before
				+pseudo($content: '/', $display: inline-block, $pos: relative)
				margin-right: 8px

.expander-header__text
	font-family: $font-alt
	+font(1.6rem, 1.25)
	font-weight: normal
	color: $text-color
	transition-property: color
	transition-duration: $animation-speed
	margin-bottom: $bottom-space

.expander-angle
	//$btn-size: $header-top-height
	//$btn-lines-width: 17px
	//$btn-lines-height: 3px
	//$btn-lines-color: $text-color
	//
	//=line-style()
		+size($btn-lines-width, $btn-lines-height)
		background-color: $btn-lines-color

	//position: absolute
	//right: 0
	//top: 50%
	//+size($faq-angle-size)
	//transform: translate(0, -50%)
	//bottom: $article-layout-space-vertical--mob-lg
	//+size(auto)
	+display-inline-block-top
	position: relative
	cursor: pointer
	line-height: 18px
	+antialiased

	.no-js &
		display: none

	& > span
		+display-inline-block-top
		position: relative
		font-family: $font-alt
		text-transform: uppercase
		+font(0, 0)
		font-weight: normal
		white-space: nowrap

		//&:before, &:after
			display: none
			position: relative
			transition-property: opacity, transform, visibility
			transition-duration: $animation-speed

		&:before, &:after
			+display-inline-block-top
			+font(12px, 18px)
			position: relative
			border-bottom: 1px dotted $text-color
			transition-property: opacity, transform, visibility
			transition-duration: $animation-speed

		&:before
			content: 'Показать ответ'
			transform: translate(0, 0)

			.expander-is-open &
				opacity: 0
				visibility: hidden
				transform: translate(0, -1em)

		&:after
			content: 'Закрыть ответ'
			position: absolute
			+top-left(0)
			+size(100%)
			opacity: 0
			visibility: hidden
			width: auto
			transform: translate(0, 1em)

			.expander-is-open &
				opacity: 1
				visibility: visible
				transform: translate(0, 0)

		.no-touchevents &:hover
			color: $text-color-alt

			&:before, &:after
				border-bottom-color: $text-color-alt

	& > i
		display: none

	//> i
		position: absolute
		left: 50%
		top: 50%
		margin: -#{round($btn-lines-width*0.5)} 0 0 -#{round($btn-lines-width*0.5)}
		+size($btn-lines-width)
		backface-visibility: hidden
		transition-property: transform
		transition-duration: $animation-speed

		+media('<mob-lg')
			left: 0
			margin-left: 0
			display: none

		.expander-is-open &
			transform: rotate(0.625turn)

		&::before, &::after
			+pseudo()
			left: 0
			top: 50%
			margin-top: -#{round($btn-lines-height/2)}
			+line-style

		&::after
			transform: rotate(90deg)

	//.no-touchevents &:hover i
		&::before, &::after
			background-color: $text-color-alt

.expander-panel
	position: relative
	overflow: hidden
	border-top: 1px solid $border-color
	display: none
	+font($font-size-small, $line-height-small)

	//+media('<mob-lg')
		border-top: none

	.no-js &
		display: block

.expander-panel__holder
	padding: $grid-inside-vertical-space 0

	+media('<tab-lg')
		+padding-vertical($article-layout-space-vertical--tab-lg)

	+media('<mob-lg')
		+padding-vertical($article-layout-space-vertical--mob-lg)

/*expander end

/*faq form
.faq-form-wrap
	margin-bottom: $bottom-space-lg

	&:last-child
		margin-bottom: 0

/*faq form end